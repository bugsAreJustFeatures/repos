<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knight Moves</title>
</head>
<body>
    
    <script>

        function isValid(x, y) {
            if (x < 8 && x >= 0 && y < 8 && y >= 0) {
                return true
            } else {
                return false
            }
        }

        function moveOne(x, y) { // up 2, right 1
            x = x + 1
            y = y + 2

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
            
        }
        function moveTwo(x, y) { // up 1, right 2
            x = x + 2
            y = y + 1
           
            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveThree(x, y) { // down 1, right 2
            x = x + 2
            y = y - 1

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveFour(x, y) { // down 2, right 1
            x = x + 1
            y = y - 2

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveFive(x, y) { // down 2, left 1
            x = x - 1
            y = y - 2

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveSix(x, y) { // down 1, left 2
            x = x - 2
            y = y - 1

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveSeven(x, y) { // up 1, left 2
            x = x - 2
            y = y + 1

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveEight(x, y) { // up 2, left 1
            x = x - 1
            y = y + 2

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }

        function callMoves(x,y) {
            let moves = [
                moveOne(x,y),
                moveTwo(x,y),
                moveThree(x,y),
                moveFour(x,y),
                moveFive(x,y),
                moveSix(x,y),
                moveSeven(x,y),
                moveEight(x,y)

            ]
            return moves
        }

        function knightMoves(start, end) { // knightMoves([0,0], [1,2]) returns [0,0] and then [1,2] as the path

            const visited = new Set()
            const queue = []
            visited.add(start.toString())
            queue.push(callMoves(...start))

            // queue = [outer = a holder for all moves [middle = all possible moves[inner = 0,0]]]

            while (visited.size <= 64) { // while loop for going through each of the moves
                // console.log(queue)

                if (queue[0][0] === null || visited.has(queue[0][0].toString())) {
                    queue[0].shift()

                } else {
                    let nextMoves = callMoves(...queue[0][0])
                    for (let i = 0; i < nextMoves.length; i++) { // for loop needed to loop through all moves and then add them
                        queue[0].push(nextMoves[i]) 
                    }
                    console.log(queue[0])
                    // console.log(queue[1])

                    for (let k of queue[0]) { // for..of loop to check if position is the desired node 

                    if (k === null || visited.has(queue[0][0].toString())) {
                        //skip because move is not valid

                    } else {
                        end = end.toString() 
                        k = k.toString()
                        // need to do make these strings otherwise they always return false

                        // console.log(k)
                        if (end === k) { // found desired node

                            // for..of loop for listing visited nodes, which will be the path to the desired node
                            let visitedNodes = []
                            for (let j of visited) {
                                visitedNodes.push(`[${j}]`)
                            }
                            console.log(`Path for [${end}] has been found and its ${visitedNodes},[${end}]`)
                            return 
                            }
                        }
                    }

                    // not found end goal coords yet //
                    
                    visited.add(queue[0][0].toString())// add next node to visited set
                    console.log(visited)
                    queue[0].shift() // remove the visited node from queue
                }
            }
        } 
        knightMoves([0,0], [3,3])

    </script>

</body>
</html>