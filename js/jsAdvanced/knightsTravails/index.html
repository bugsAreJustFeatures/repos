<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knight Moves</title>
</head>
<body>
    
    <script>

        function isValid(x, y) {
            if (x < 8 && x >= 0 && y < 8 && y >= 0) {
                return true
            } else {
                return false
            }
        }

        function moveOne(x, y) { // up 2, right 1
            x = x + 1
            y = y + 2

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
            
        }
        function moveTwo(x, y) { // up 1, right 2
            x = x + 2
            y = y + 1
           
            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveThree(x, y) { // down 1, right 2
            x = x + 2
            y = y - 1

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveFour(x, y) { // down 2, right 1
            x = x + 1
            y = y - 2

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveFive(x, y) { // down 2, left 1
            x = x - 1
            y = y - 2

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveSix(x, y) { // down 1, left 2
            x = x - 2
            y = y - 1

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveSeven(x, y) { // up 1, left 2
            x = x - 2
            y = y + 1

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        function moveEight(x, y) { // up 2, left 1
            x = x - 1
            y = y + 2

            if (isValid(x,y)) {
                return [x, y]
            } else {
                return null
            }
        }
        // console.log(moveOne(3, 3))

        function callMoves(x,y) {
            let moves = [
                moveOne(x,y),
                moveTwo(x,y),
                moveThree(x,y),
                moveFour(x,y),
                moveFive(x,y),
                moveSix(x,y),
                moveSeven(x,y),
                moveEight(x,y)

            ]
            return moves
        }

        function knightMoves(start, end) { // knightMoves([0,0], [1,2]) returns [0,0] and then [1,2] as the path

            const visited = new Set()
            const queue = []
            visited.add(start)
            queue.push(callMoves(...start))


            // queue = [outer = a holder for all moves [middle = all possible moves[inner = actual position]]]

            while (visited.size <= 64) { // while loop for going through each of the moves
                console.log(queue)
                queue.push(callMoves(...queue[0][0])) //ERROR ON THIS LINE//----------
                
                for (let k of queue[0]) { // for..of loop to check if position is the desired node 
                if (k === null) {
                    //skip because move is not valid

                } else {
                    end = end.toString() 
                    k = k.toString()
                    // need to do make these strings otherwise they always return false

                    // console.log(k)
                    if (end === k) { // found desired node

                        // for..of loop for listing visited nodes, which will be the path to the desired node
                        let visitedNodes = []
                        for (let j of visited) {
                            visitedNodes.push(` [${j[0]}, ${j[1]}]`)
                        }
                        console.log(`Path for [${end}] has been found and its ${visitedNodes}, [${end}]`)
                        return 
                        }
                    }
                }

                // not found end goal coords yet //
                
                visited.add(queue[0][0])// add next node to visited set
                queue.shift() // remove the visited node from queue
                console.log(visited)



            }
        } //----- NEED TO UNCOMMENT bracket WHEN ACTIVATING FUNCTION------//
        knightMoves([3,3], [7,7])

        
        // -----Done so far------ //

        //  1. made set to store the visited positions
        // 2. made queue array that stores where the knight currently is, as well as the next possible moves alongside each of these moves' paths
        // 3. been able to store the first set of possible moves in the queue
        // 4. been able to store the starting position in the visited set
        // 5. check each of the possible moves to see if they are the end goal
        //
        //
        //


        // -----Need to do----- //

        // 
        // 6. after checking is complete and none is the correct one, move onto the next position within the queue and add it to the visited set, as well as add their possible moves into the array and each of their paths
        // 7. loop through 5-6 until position is found
        // 8. get the path of the desired coords and return them.
        //



    </script>

</body>
</html>